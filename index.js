import{S as w,N as E,a as F,A as z,P as x,i as J}from"./assets/vendor-00AYbfjz.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))s(i);new MutationObserver(i=>{for(const r of i)if(r.type==="childList")for(const c of r.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function o(i){const r={};return i.integrity&&(r.integrity=i.integrity),i.referrerPolicy&&(r.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?r.credentials="include":i.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function s(i){if(i.ep)return;i.ep=!0;const r=o(i);fetch(i.href,r)}})();new w(".hero-swiper",{loop:!1,speed:600,grabCursor:!0,slidesPerView:1,spaceBetween:20,modules:[E],navigation:{nextEl:".swiper-btn-next",prevEl:".swiper-btn-prev"},breakpoints:{768:{speed:700},1440:{speed:800}},on:{init:function(){B(this)},slideChange:function(){B(this)}}});function B(t){const e=document.querySelector(".swiper-btn-prev"),o=document.querySelector(".swiper-btn-next");t.isBeginning?e.classList.add("button-dis"):e.classList.remove("button-dis"),t.isEnd?o.classList.add("button-dis"):o.classList.remove("button-dis")}const W=document.querySelectorAll(".hero-btn");W.forEach(t=>{t.addEventListener("click",()=>{const e=document.querySelector(".books");e&&e.scrollIntoView({behavior:"smooth",block:"start"})})});const n={BASE_URL:"https://books-backend.p.goit.global",END_CATEGORIES:"/books/category-list",END_TOP_BOOKS:"/books/top-books",END_CATEGORIE_ID:"/books/category?category=",END_BOOK_ID:"/books/",ALL_CATEGORIES:"All categories",BOOK_LIST:"bookList",BOOK_CARD_LIST:"bookCardList",currentCategory:"",itemsPerView:24,viewedBooks:0,body:document.body,scr_btn_burger_close:"ico-sprite.svg#icon-x",scr_btn_burger_normal:"ico-sprite.svg#icon-menu-alt-right"};function b(t,e){t.classList.remove(e)}function g(t,e){t.classList.add(e)}function a(t,e){t.classList.toggle(e)}function _(t,e,o,s=!1){s&&(t.innerHTML=""),t.insertAdjacentHTML("beforeend",o(e))}function A(t){return t.map(({_id:o,list_name:s,author:i,price:r,title:c,book_image:d,book_image_width:be,book_image_height:fe})=>`<li class="books-data-itm" data-id="${o}">
          <div class="books-data-img-container">
            <img
              src="${d}"
              alt="${c}"
              class="books-data-img"
            />
          </div>
          <div class="books-data-info">
						<div class="books-data-texts">
							<h3 class="books-data-title">${c}</h3>
							<p class="books-data-author">${i}</p>
						</div>
						<h3 class="books-data-price">$${r}</h3>
					</div>
          <button class="secondary-button books-data-button">Learn More</button>
        </li>`).join("")}function H(t){const e=t.filter(o=>o.list_name.trim()!=="").map(({list_name:o})=>`<li class="b-categories-itm" data-category="${o}">
          	<p class="b-categories-itm-text">${o}</p>
        	</li>`).join("");return`<li class="b-categories-itm" data-category="all">
						<p class="b-categories-itm-text">${n.ALL_CATEGORIES}</p>
					</li> ${e}`}function Q(){window.scrollTo({top:0,behavior:"smooth"})}async function $(t){return await F.get(t).then(e=>e).catch(e=>e.message)}const k=document.querySelector("#modal-backdrop"),D=document.body;let L=null;async function Y(t){try{const e=await fetch(`https://books-backend.p.goit.global/books/${t}`);if(!e.ok)throw new Error("Не вдалося отримати дані про книгу");const o=await e.json();document.querySelector("#book-image").src=o.book_image,document.querySelector("#book-title").textContent=o.title,document.querySelector("#book-author").textContent=o.author,document.querySelector("#book-price").textContent=`$${o.price}`,document.querySelector("#book-details").textContent=o.description,document.querySelector("#book-shipping").textContent="We ship across the United States within 2–5 business days. All orders are processed through USPS or a reliable courier service. Enjoy free standard shipping on orders over $50.",document.querySelector("#book-returns").textContent="You can return an item within 14 days of receiving your order, provided it hasn’t been used and is in its original condition. To start a return, please contact our support team — we’ll guide you through the process quickly and hassle-free.",k.classList.remove("is-hidden"),D.classList.add("locked");const s=document.querySelector(".accordion-container");L&&L.destroy(),s&&(L=new z(s,{duration:300,showMultiple:!1,openOnInit:[]}));const i=document.querySelector("#book-quantity");i&&(i.value=1)}catch(e){console.error("Помилка при відкритті модального вікна:",e)}}function O(){k.classList.add("is-hidden"),D.classList.remove("modal-open")}document.addEventListener("DOMContentLoaded",()=>{k.addEventListener("click",o=>{(o.target===k||o.target.closest(".modal-close"))&&O()}),document.addEventListener("keydown",o=>{o.key==="Escape"&&O()});const t=document.querySelector("#book-form");t&&t.addEventListener("submit",o=>{o.preventDefault(),alert("Дякуємо за покупку")});const e=document.querySelector("#add-to-cart");e&&e.addEventListener("click",()=>{const o=document.querySelector("#book-quantity").value;console.log(`Кількість обраних книг: ${o}`)})});const y={add(t,e){localStorage.setItem(t,JSON.stringify(e))},get(t){return JSON.parse(localStorage.getItem(t))||[]},addToCard(t,e,o,s=1,i){const r=this.get(t),c=r.findIndex(d=>d.id===e);if(c===-1)r.push({id:e,price:o,qty:s});else{const d=r[c];d.qty=Math.max(0,d.qty+(i==="+"?s:-s))}localStorage.setItem(t,JSON.stringify(r))},removeItemFromStorage(t,e){const s=this.get(t).filter(i=>i.id!==e);localStorage.setItem(t,JSON.stringify(s))},setTotalCard(t){const e=this.get(n.BOOK_CARD_LIST);let o=0;e.length&&(o=e.reduce((s,i)=>s+i.price*i.qty,0)),console.log(o),t.textContent=`${o.toFixed(2)} $`},count(t){return this.get(t).length},isInCardList(t,e){return this.get(t).find(o=>o.id===e)!==void 0},setCountTo(t,e){t.textContent=this.count(e)||0}},X=document.querySelector(".backdrop");document.querySelector(".modal-card");const Z=document.querySelector(".modal-close"),C=document.querySelector(".books-data-list"),f=document.querySelector(".b-categories-list"),h=document.querySelector(".categories-dropdown"),u=document.querySelector(".books-show-more"),P=document.querySelector(".not-found"),ee=document.querySelector(".not-found-title"),te=document.querySelector(".b-categories-_text");async function q(t){n.currentCat=t;try{const e=n.currentCat===n.ALL_CATEGORIES?`${n.BASE_URL}${n.END_TOP_BOOKS}`:`${n.BASE_URL}${n.END_CATEGORIE_ID}${n.currentCat}`,o=await $(e);let s=[];o.data.length||(ee.textContent=`No books found in "${n.currentCat}"`,b(P,"hidden"),g(u,"hidden")),n.currentCat===n.ALL_CATEGORIES?s=o.data.map(r=>r.books).reduce((r,c)=>r.concat(c),[]):s=o.data,y.add(n.BOOK_LIST,s),n.viewedBooks=Math.min(y.count(n.BOOK_LIST),n.itemsPerView);let i=s.slice(0,n.viewedBooks);R(n.viewedBooks,s.length),_(C,i,A,!0),a(f,"is-open"),a(h,"is-open"),N()}catch(e){console.log(e.message)}}function N(){n.viewedBooks<y.count(n.BOOK_LIST)?b(u,"display-none"):g(u,"display-none")}function M(){n.itemsPerView=window.innerWidth>=1440?24:10,n.itemsPerView===10&&(b(f,"is-open"),b(h,"is-open"))}async function oe(){try{const t=`${n.BASE_URL}${n.END_CATEGORIES}`,e=await $(t);_(f,e.data,H,!0)}catch(t){console.log(t.message)}}function R(t,e){te.textContent=`Showing ${t} of ${e}`}document.addEventListener("DOMContentLoaded",()=>{M(),oe(),q(n.ALL_CATEGORIES)});window.addEventListener("resize",()=>{M()});C.addEventListener("click",t=>{const e=t.target.closest(".books-data-button");if(!e)return;const o=e.closest(".books-data-itm");o&&Y(o.dataset.id)});h.addEventListener("click",()=>{a(f,"is-open"),a(h,"is-open")});f.addEventListener("click",t=>{f.querySelectorAll(".b-categories-itm").forEach(i=>{b(i,"is-active")});const o=t.target.closest("p");if(!o)return;const s=t.target.closest(".b-categories-itm");s&&g(s,"is-active"),g(P,"hidden"),q(o.textContent)});Z.addEventListener("click",()=>{a(X,"is-hidden"),a(n.body,"locked")});u.addEventListener("click",()=>{u.disabled=!0;const t=y.count(n.BOOK_LIST),e=n.viewedBooks,o=n.viewedBooks+n.itemsPerView,s=y.get(n.BOOK_LIST);if(!s.length){q(n.currentCat),n.scrollToTop();return}const i=s.slice(e,o);n.viewedBooks=Math.min(o,t),R(n.viewedBooks,s.length),_(C,i,A,!1),N(),u.disabled=!1});new w(".feedbacks-swiper",{modules:[E,x],loop:!1,grabCursor:!0,spaceBetween:20,slidesPerView:1,navigation:{prevEl:".feedbacks-swiper-button-left",nextEl:".feedbacks-swiper-button-right"},pagination:{el:".feedbacks-custom-swiper-pagination",clickable:!0},breakpoints:{768:{slidesPerView:2,spaceBetween:24},1440:{slidesPerView:3,spaceBetween:24}},on:{init:function(){T(this)},slideChange:function(){T(this)}}});function T(t){const e=document.querySelector(".feedbacks-swiper-button-left"),o=document.querySelector(".feedbacks-swiper-button-right");t.isBeginning?e.classList.add("feedbacks-button-disabled"):e.classList.remove("feedbacks-button-disabled"),t.isEnd?o.classList.add("feedbacks-button-disabled"):o.classList.remove("feedbacks-button-disabled")}const m=document.querySelector(".burger-menu"),V=document.querySelector(".modal-menu"),ne=m.querySelector("use");m.addEventListener("click",t=>{m.disabled=!0,K()});V.addEventListener("click",t=>{t.target.closest(".nav-link")&&K()});function K(){a(m,"is-open"),a(V,"is-open"),a(n.body,"locked"),ne.setAttribute("href",m.classList.contains("is-open")?n.scr_btn_burger_close:n.scr_btn_burger_normal),m.disabled=!1}const S=document.querySelector("#back-to-top");window.addEventListener("scroll",()=>{window.scrollY>600?b(S,"hidden"):g(S,"hidden")});S.addEventListener("click",()=>{Q()});const l=document.querySelector(".form"),se=l.querySelectorAll(".form-input, .form-user-comment"),ie=document.querySelector(".modal-close-btn"),G=document.querySelector(".modal-overlay"),re=document.querySelector(".events-list");re.addEventListener("click",t=>{const e=t.target.closest(".events-item");if(!e||!t.target.closest(".card-btn"))return;const s=e.querySelector(".events-card-heading").textContent.trim();ce(s)});l.addEventListener("submit",ae);G.addEventListener("click",le);ie.addEventListener("click",de);function ce(t){const e=document.querySelector(".modal-overlay");e.classList.add("is-open");const o=e.querySelector(".form-subtitle");o.textContent=t,document.body.classList.add("locked"),window.addEventListener("keydown",U)}function v(){document.querySelector(".modal-overlay").classList.remove("is-open"),document.body.classList.remove("locked"),window.removeEventListener("keydown",U)}function ae(t){t.preventDefault();let e=!0;if(se.forEach(o=>{const s=o.nextElementSibling,i=o.value.trim();!o.checkValidity()||i===""?(o.classList.add("error"),s&&s.classList.contains("error-text")&&(s.style.display="block"),e=!1):(o.classList.remove("error"),s&&s.classList.contains("error-text")&&(s.style.display="none"))}),e){console.log("Форма валідна. Можна відправити.");const o={fullname:l.elements.fullname.value.trim(),email:l.elements.email.value.trim(),comment:l.elements.comment.value.trim()};console.log("Дані для відправки:",o),setTimeout(()=>{J.success({title:"Успішно!",message:"Форма відправлена.",position:"topRight",class:"custom-toast"}),l.reset(),v()},500)}}function de(){v()}function le(t){t.target===G&&v()}function U(t){t.key==="Escape"&&v()}let p=null;function ue(){p=new w(".events-swiper",{modules:[E,x],loop:!1,grabCursor:!0,spaceBetween:24,slidesPerView:1,navigation:{prevEl:".swiper-button-left",nextEl:".swiper-button-right"},pagination:{el:".custom-swiper-pagination",clickable:!0},breakpoints:{768:{slidesPerView:2,spaceBetween:24}},on:{init:function(){I(this)},slideChange:function(){I(this)}}})}function me(){p&&(p.destroy(!0,!0),p=null)}function j(){const t=window.innerWidth,e=document.querySelector(".events-control-cont"),o=document.querySelector(".swiper-pagination");t>=1440?(me(),e==null||e.classList.add("hidden"),o==null||o.classList.add("hidden")):(p||ue(),e==null||e.classList.remove("hidden"),o==null||o.classList.remove("hidden"))}j();window.addEventListener("resize",j);function I(t){const e=document.querySelector(".swiper-button-left"),o=document.querySelector(".swiper-button-right");t.isBeginning?e.classList.add("button-disabled"):e.classList.remove("button-disabled"),t.isEnd?o.classList.add("button-disabled"):o.classList.remove("button-disabled")}
//# sourceMappingURL=index.js.map
