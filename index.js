import{S as f,N as k,a as A,P as L}from"./assets/vendor-TuCaI12L.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const r of s)if(r.type==="childList")for(const c of r.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&n(c)}).observe(document,{childList:!0,subtree:!0});function o(s){const r={};return s.integrity&&(r.integrity=s.integrity),s.referrerPolicy&&(r.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?r.credentials="include":s.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function n(s){if(s.ep)return;s.ep=!0;const r=o(s);fetch(s.href,r)}})();new f(".swiper",{loop:!1,speed:600,grabCursor:!0,slidesPerView:1,modules:[k],navigation:{nextEl:".swiper-btn-next",prevEl:".swiper-btn-prev"},breakpoints:{768:{speed:700},1440:{speed:800}},on:{init:function(){y(this)},slideChange:function(){y(this)}}});function y(t){const e=document.querySelector(".swiper-btn-prev"),o=document.querySelector(".swiper-btn-next");t.isBeginning?e.classList.add("button-disabled"):e.classList.remove("button-disabled"),t.isEnd?o.classList.add("button-disabled"):o.classList.remove("button-disabled")}const C=document.querySelectorAll(".hero-btn");C.forEach(t=>{t.addEventListener("click",()=>{const e=document.querySelector(".books");e&&e.scrollIntoView({behavior:"smooth",block:"start"})})});const i={BASE_URL:"https://books-backend.p.goit.global",END_CATEGORIES:"/books/category-list",END_TOP_BOOKS:"/books/top-books",END_CATEGORIE_ID:"/books/category?category=",END_BOOK_ID:"/books/",body:document.body,scr_btn_burger_close:"ico-sprite.svg#icon-x",scr_btn_burger_normal:"ico-sprite.svg#icon-menu-alt-right"};function D(t,e){t.classList.remove(e)}function N(t,e){t.classList.add(e)}function a(t,e){t.classList.toggle(e)}function b(t,e,o,n=!1){n&&(t.innerHTML=""),t.insertAdjacentHTML("beforeend",o(e))}function E(t){return t.map(({_id:o,list_name:n,author:s,price:r,title:c,book_image:O,book_image_width:H,book_image_height:z})=>`<li class="books-data-itm" data-id="${o}">
          <div class="books-data-img-container">
            <img
              src="${O}"
              alt="${n}"
              class="books-data-img"
            />
          </div>
          <div class="books-data-texts">
            <h3 class="books-data-title">${c}</h3>
            <h3 class="books-data-price">${r}</h3>
          </div>
          <p class="books-data-author">${s}</p>
          <button class="books-data-button">Learn More</button>
        </li>`).join("")}function x(t){return`<li class="b-categories-itm" data-category="all">
						<p class="b-categories-itm">All categories</p>
					</li> ${t.map(({list_name:o})=>`<li class="b-categories-itm" data-category="${o}">
          <p class="b-categories-itm">${o}</p>
        </li>`).join("")}`}function P({_id:t,list_name:e,author:o,book_image:n,description:s,price:r,title:c}){return`<img src="" alt="" class="modal-book_close" />
						<img src="${n}" alt="${e}" class="books-data-img" />
						<h3 class="books-data-title">${c}</h3>
						<p class="books-data-author">${o}</p>
						<p class="books-data-price">${r}</p>
						<button class="books-data-button" id="add-to-card">Add to card</button
						><button class="books-show-more"id="buy-now">Buy Now</button>
						<h3 class="modal-book-details">DETAILS</h3>
						<p class="modal-book-details-text">${s}</p>
						<h3 class="modal-book-shipping">SHIPPING</h3>
						<p class="modal-book-shipping-text">${s}</p>
						<h3 class="modal-book-returns">RETURNS</h3>
						<p class="modal-book-returns-text">${s}</p>`}async function m(t){return await A.get(t).then(e=>e).catch(e=>e.message)}document.querySelector(".modal-book");const h=document.querySelector(".books-data-list"),p=document.querySelector(".b-categories-list"),g=document.querySelector(".categories-dropdown");document.querySelector(".books-data-button");const T=async t=>{try{const e=`${i.BASE_URL}${i.END_BOOK_ID}${t}`,o=await m(e);console.log(o),b(i.modal_book,o.data,P,!0),a(i.modal_book,"is-open"),window.scrollTo({top:0,behavior:"smooth"});const n=document.querySelector("#add-to-card");console.log(n),n.addEventListener("click",s=>{})}catch(e){console.log(e.message)}},I=async t=>{try{const e=t==="All categories"?`${i.BASE_URL}${i.END_TOP_BOOKS}`:`${i.BASE_URL}${i.END_CATEGORIE_ID}${t}`,o=await m(e);console.log(o),b(h,o.data,E,!0),a(p,"is-open"),a(g,"is-open")}catch(e){console.log(e.message)}},R=async()=>{try{const t=`${i.BASE_URL}${i.END_TOP_BOOKS}`,e=await m(t);console.log(e),b(h,e.data[4].books,E,!0)}catch(t){console.log(t.message)}};document.addEventListener("DOMContentLoaded",()=>{U(),R()});h.addEventListener("click",t=>{const e=t.target.closest(".books-data-button");if(!e)return;const o=e.closest(".books-data-itm");o&&T(o.dataset.id)});const U=async()=>{try{const t=`${i.BASE_URL}${i.END_CATEGORIES}`,e=await m(t);b(p,e.data,x,!0)}catch(t){console.log(t.message)}};g.addEventListener("click",t=>{a(p,"is-open"),a(g,"is-open")});p.addEventListener("click",t=>{const e=t.target.closest("p");e&&(I(e.textContent),console.log(t.target,t.target.closest("p").textContent))});new f(".feedbacks-swiper",{modules:[k,L],loop:!1,grabCursor:!0,spaceBetween:20,slidesPerView:1,navigation:{prevEl:".swiper-button-left",nextEl:".swiper-button-right"},pagination:{el:".custom-swiper-pagination",clickable:!0},breakpoints:{768:{slidesPerView:2,spaceBetween:24},1440:{slidesPerView:3,spaceBetween:24}},on:{init:function(){w(this)},slideChange:function(){w(this)}}});function w(t){const e=document.querySelector(".swiper-button-left"),o=document.querySelector(".swiper-button-right");t.isBeginning?e.classList.add("button-disabled"):e.classList.remove("button-disabled"),t.isEnd?o.classList.add("button-disabled"):o.classList.remove("button-disabled")}const l=document.querySelector(".burger-menu"),_=document.querySelector(".modal-menu"),M=l.querySelector("use");l.addEventListener("click",t=>{l.disabled=!0,S()});_.addEventListener("click",t=>{t.target.closest(".nav-link")&&S()});function S(){a(l,"is-open"),a(_,"is-open"),a(i.body,"locked"),M.setAttribute("href",l.classList.contains("is-open")?i.scr_btn_burger_close:i.scr_btn_burger_normal),l.disabled=!1}const u=document.querySelector("#back-to-top");console.log(u);window.addEventListener("scroll",()=>{console.log(window.scrollY),window.scrollY>600?D(u,"hidden"):N(u,"hidden")});u.addEventListener("click",()=>{window.scrollTo({top:0,behavior:"smooth"})});function B(){document.querySelector(".modal-overlay").classList.remove("is-open"),document.body.classList.remove("locked")}const $=document.querySelector(".form"),V=$.querySelectorAll(".form-input, .form-user-comment");$.addEventListener("submit",function(t){t.preventDefault();let e=!0;V.forEach(o=>{const n=o.nextElementSibling;o.checkValidity()?(o.classList.remove("error"),n&&n.classList.contains("error-text")&&(n.style.display="none")):(o.classList.add("error"),n&&n.classList.contains("error-text")&&(n.style.display="block"),e=!1)}),e&&(console.log("Форма валідна. Можна відправити."),B())});const K=document.querySelector(".modal-close-btn");K.addEventListener("click",G);function G(){B()}let d=null;function Q(){d=new f(".events-swiper",{modules:[k,L],loop:!1,grabCursor:!0,spaceBetween:24,slidesPerView:1,navigation:{prevEl:".swiper-button-prev",nextEl:".swiper-button-next"},pagination:{el:".swiper-pagination",clickable:!0},breakpoints:{768:{slidesPerView:2,spaceBetween:24}},on:{init:function(){v(this)},slideChange:function(){v(this)}}})}function j(){d&&(d.destroy(!0,!0),d=null)}function q(){const t=window.innerWidth,e=document.querySelector(".events-control-cont"),o=document.querySelector(".swiper-pagination");t>=1440?(j(),e==null||e.classList.add("hidden"),o==null||o.classList.add("hidden")):(d||Q(),e==null||e.classList.remove("hidden"),o==null||o.classList.remove("hidden"))}q();window.addEventListener("resize",q);function v(t){const e=document.querySelector(".swiper-button-prev"),o=document.querySelector(".swiper-button-next");t.isBeginning?e.classList.add("button-disabled"):e.classList.remove("button-disabled"),t.isEnd?o.classList.add("button-disabled"):o.classList.remove("button-disabled")}
//# sourceMappingURL=index.js.map
