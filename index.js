import{S as y,N as h,a as D,P as S,i as N}from"./assets/vendor-DgXuePoo.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const r of i.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&n(r)}).observe(document,{childList:!0,subtree:!0});function o(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(s){if(s.ep)return;s.ep=!0;const i=o(s);fetch(s.href,i)}})();new y(".swiper",{loop:!1,speed:600,grabCursor:!0,slidesPerView:1,modules:[h],navigation:{nextEl:".swiper-btn-next",prevEl:".swiper-btn-prev"},breakpoints:{768:{speed:700},1440:{speed:800}},on:{init:function(){w(this)},slideChange:function(){w(this)}}});function w(e){const t=document.querySelector(".swiper-btn-prev"),o=document.querySelector(".swiper-btn-next");e.isBeginning?t.classList.add("button-disabled"):t.classList.remove("button-disabled"),e.isEnd?o.classList.add("button-disabled"):o.classList.remove("button-disabled")}const x=document.querySelectorAll(".hero-btn");x.forEach(e=>{e.addEventListener("click",()=>{const t=document.querySelector(".books");t&&t.scrollIntoView({behavior:"smooth",block:"start"})})});const a={BASE_URL:"https://books-backend.p.goit.global",END_CATEGORIES:"/books/category-list",END_TOP_BOOKS:"/books/top-books",END_CATEGORIE_ID:"/books/category?category=",END_BOOK_ID:"/books/",body:document.body,scr_btn_burger_close:"ico-sprite.svg#icon-x",scr_btn_burger_normal:"ico-sprite.svg#icon-menu-alt-right"};function P(e,t){e.classList.remove(t)}function T(e,t){e.classList.add(t)}function c(e,t){e.classList.toggle(t)}function m(e,t,o,n=!1){n&&(e.innerHTML=""),e.insertAdjacentHTML("beforeend",o(t))}function _(e){return e.map(({_id:o,list_name:n,author:s,price:i,title:r,book_image:A,book_image_width:Z,book_image_height:ee})=>`<li class="books-data-itm" data-id="${o}">
          <div class="books-data-img-container">
            <img
              src="${A}"
              alt="${r}"
              class="books-data-img"
            />
          </div>
          <div class="books-data-info">
						<div class="books-data-texts">
							<h3 class="books-data-title">${r}</h3>
							<p class="books-data-author">${s}</p>
						</div>
						<h3 class="books-data-price">$${i}</h3>
					</div>
          <button class="books-data-button">Learn More</button>
        </li>`).join("")}function I(e){return`<li class="b-categories-itm" data-category="all">
						<p class="b-categories-itm-text">All categories</p>
					</li> ${e.filter(o=>o.list_name.trim()!=="").map(({list_name:o})=>`<li class="b-categories-itm" data-category="${o}">
          	<p class="b-categories-itm-text">${o}</p>
        	</li>`).join("")}`}function R({_id:e,list_name:t,author:o,book_image:n,description:s,price:i,title:r}){return`<img src="" alt="" class="modal-book_close" />
						<img src="${n}" alt="${t}" class="books-data-img" />
						<h3 class="books-data-title">${r}</h3>
						<p class="books-data-author">${o}</p>
						<p class="books-data-price">${i}</p>
						<button class="books-data-button" id="add-to-card">Add to card</button
						><button class="books-show-more"id="buy-now">Buy Now</button>
						<h3 class="modal-book-details">DETAILS</h3>
						<p class="modal-book-details-text">${s}</p>
						<h3 class="modal-book-shipping">SHIPPING</h3>
						<p class="modal-book-shipping-text">${s}</p>
						<h3 class="modal-book-returns">RETURNS</h3>
						<p class="modal-book-returns-text">${s}</p>`}async function b(e){return await D.get(e).then(t=>t).catch(t=>t.message)}document.querySelector(".modal-book");const v=document.querySelector(".books-data-list"),p=document.querySelector(".b-categories-list"),f=document.querySelector(".categories-dropdown");document.querySelector(".books-data-button");const M=async e=>{try{const t=`${a.BASE_URL}${a.END_BOOK_ID}${e}`,o=await b(t);console.log(o),m(a.modal_book,o.data,R,!0),c(a.modal_book,"is-open"),window.scrollTo({top:0,behavior:"smooth"});const n=document.querySelector("#add-to-card");console.log(n),n.addEventListener("click",s=>{})}catch(t){console.log(t.message)}},U=async e=>{try{const t=e==="All categories"?`${a.BASE_URL}${a.END_TOP_BOOKS}`:`${a.BASE_URL}${a.END_CATEGORIE_ID}${e}`,o=await b(t);console.log(o),m(v,o.data,_,!0),c(p,"is-open"),c(f,"is-open")}catch(t){console.log(t.message)}},V=async()=>{try{const e=`${a.BASE_URL}${a.END_TOP_BOOKS}`,t=await b(e);console.log(t),m(v,t.data[4].books,_,!0)}catch(e){console.log(e.message)}};document.addEventListener("DOMContentLoaded",()=>{K(),V()});v.addEventListener("click",e=>{const t=e.target.closest(".books-data-button");if(!t)return;const o=t.closest(".books-data-itm");o&&M(o.dataset.id)});const K=async()=>{try{const e=`${a.BASE_URL}${a.END_CATEGORIES}`,t=await b(e);m(p,t.data,I,!0)}catch(e){console.log(e.message)}};f.addEventListener("click",e=>{c(p,"is-open"),c(f,"is-open")});p.addEventListener("click",e=>{const t=e.target.closest("p");t&&(U(t.textContent),console.log(e.target,e.target.closest("p").textContent))});new y(".feedbacks-swiper",{modules:[h,S],loop:!1,grabCursor:!0,spaceBetween:20,slidesPerView:1,navigation:{prevEl:".swiper-button-left",nextEl:".swiper-button-right"},pagination:{el:".custom-swiper-pagination",clickable:!0},breakpoints:{768:{slidesPerView:2,spaceBetween:24},1440:{slidesPerView:3,spaceBetween:24}},on:{init:function(){L(this)},slideChange:function(){L(this)}}});function L(e){const t=document.querySelector(".swiper-button-left"),o=document.querySelector(".swiper-button-right");e.isBeginning?t.classList.add("button-disabled"):t.classList.remove("button-disabled"),e.isEnd?o.classList.add("button-disabled"):o.classList.remove("button-disabled")}const d=document.querySelector(".burger-menu"),B=document.querySelector(".modal-menu"),G=d.querySelector("use");d.addEventListener("click",e=>{d.disabled=!0,$()});B.addEventListener("click",e=>{e.target.closest(".nav-link")&&$()});function $(){c(d,"is-open"),c(B,"is-open"),c(a.body,"locked"),G.setAttribute("href",d.classList.contains("is-open")?a.scr_btn_burger_close:a.scr_btn_burger_normal),d.disabled=!1}const k=document.querySelector("#back-to-top");window.addEventListener("scroll",()=>{window.scrollY>600?P(k,"hidden"):T(k,"hidden")});k.addEventListener("click",()=>{window.scrollTo({top:0,behavior:"smooth"})});const l=document.querySelector(".form"),Q=l.querySelectorAll(".form-input, .form-user-comment"),j=document.querySelector(".modal-close-btn"),q=document.querySelector(".modal-overlay"),z=document.querySelectorAll(".card-btn");z.forEach(e=>{e.addEventListener("click",H)});l.addEventListener("submit",W);q.addEventListener("click",Y);j.addEventListener("click",F);function H(){document.querySelector(".modal-overlay").classList.add("is-open"),document.body.classList.add("locked"),window.addEventListener("keydown",O)}function g(){document.querySelector(".modal-overlay").classList.remove("is-open"),document.body.classList.remove("locked"),window.removeEventListener("keydown",O)}function W(e){e.preventDefault();let t=!0;if(Q.forEach(o=>{const n=o.nextElementSibling;o.checkValidity()?(o.classList.remove("error"),n&&n.classList.contains("error-text")&&(n.style.display="none")):(o.classList.add("error"),n&&n.classList.contains("error-text")&&(n.style.display="block"),t=!1)}),t){console.log("Форма валідна. Можна відправити.");const o={fullname:l.elements.fullname.value.trim(),email:l.elements.email.value.trim(),comment:l.elements.comment.value.trim()};console.log("Дані для відправки:",o),setTimeout(()=>{N.success({title:"Успішно!",message:"Форма відправлена.",position:"topRight",class:"custom-toast"}),l.reset(),g()},500)}}function F(){g()}function Y(e){e.target===q&&g()}function O(e){e.key==="Escape"&&g()}let u=null;function J(){u=new y(".events-swiper",{modules:[h,S],loop:!1,grabCursor:!0,spaceBetween:24,slidesPerView:1,navigation:{prevEl:".swiper-button-left",nextEl:".swiper-button-right"},pagination:{el:".custom-swiper-pagination",clickable:!0},breakpoints:{768:{slidesPerView:2,spaceBetween:24}},on:{init:function(){E(this)},slideChange:function(){E(this)}}})}function X(){u&&(u.destroy(!0,!0),u=null)}function C(){const e=window.innerWidth,t=document.querySelector(".events-control-cont"),o=document.querySelector(".swiper-pagination");e>=1440?(console.log("event"),X(),t==null||t.classList.add("hidden"),o==null||o.classList.add("hidden")):(u||J(),t==null||t.classList.remove("hidden"),o==null||o.classList.remove("hidden"))}C();window.addEventListener("resize",C);function E(e){const t=document.querySelector(".swiper-button-left"),o=document.querySelector(".swiper-button-right");e.isBeginning?t.classList.add("button-disabled"):t.classList.remove("button-disabled"),e.isEnd?o.classList.add("button-disabled"):o.classList.remove("button-disabled")}
//# sourceMappingURL=index.js.map
