import{S as E,N as q,a as H,P as $,i as J}from"./assets/vendor-DgXuePoo.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))s(n);new MutationObserver(n=>{for(const r of n)if(r.type==="childList")for(const c of r.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function o(n){const r={};return n.integrity&&(r.integrity=n.integrity),n.referrerPolicy&&(r.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?r.credentials="include":n.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function s(n){if(n.ep)return;n.ep=!0;const r=o(n);fetch(n.href,r)}})();new E(".hero-swiper",{loop:!1,speed:600,grabCursor:!0,slidesPerView:1,spaceBetween:20,modules:[q],navigation:{nextEl:".swiper-btn-next",prevEl:".swiper-btn-prev"},breakpoints:{768:{speed:700},1440:{speed:800}},on:{init:function(){T(this)},slideChange:function(){T(this)}}});function T(e){const t=document.querySelector(".swiper-btn-prev"),o=document.querySelector(".swiper-btn-next");e.isBeginning?t.classList.add("button-dis"):t.classList.remove("button-dis"),e.isEnd?o.classList.add("button-dis"):o.classList.remove("button-dis")}const W=document.querySelectorAll(".hero-btn");W.forEach(e=>{e.addEventListener("click",()=>{const t=document.querySelector(".books");t&&t.scrollIntoView({behavior:"smooth",block:"start"})})});const i={BASE_URL:"https://books-backend.p.goit.global",END_CATEGORIES:"/books/category-list",END_TOP_BOOKS:"/books/top-books",END_CATEGORIE_ID:"/books/category?category=",END_BOOK_ID:"/books/",ALL_CATEGORIES:"All categories",BOOK_LIST:"bookList",BOOK_CARD_LIST:"bookCardList",currentCategory:"",itemsPerView:24,viewedBooks:0,itemsToAdd:4,body:document.body,scr_btn_burger_close:"ico-sprite.svg#icon-x",scr_btn_burger_normal:"ico-sprite.svg#icon-menu-alt-right"};function f(e,t){e.classList.remove(t)}function k(e,t){e.classList.add(t)}function d(e,t){e.classList.toggle(t)}function _(e,t,o,s=!1){s&&(e.innerHTML=""),e.insertAdjacentHTML("beforeend",o(t))}function D(e){return e.map(({_id:o,list_name:s,author:n,price:r,title:c,book_image:a,book_image_width:l,book_image_height:O})=>`<li class="books-data-itm" data-id="${o}">
          <div class="books-data-img-container">
            <img
              src="${a}"
              alt="${c}"
              class="books-data-img"
            />
          </div>
          <div class="books-data-info">
						<div class="books-data-texts">
							<h3 class="books-data-title">${c}</h3>
							<p class="books-data-author">${n}</p>
						</div>
						<h3 class="books-data-price">$${r}</h3>
					</div>
          <button class="secondary-button books-data-button">Learn More</button>
        </li>`).join("")}function Q(e){const t=e.filter(o=>o.list_name.trim()!=="").map(({list_name:o})=>`<li class="b-categories-itm" data-category="${o}">
          	<p class="b-categories-itm-text">${o}</p>
        	</li>`).join("");return`<li class="b-categories-itm" data-category="all">
						<p class="b-categories-itm-text">${i.ALL_CATEGORIES}</p>
					</li> ${t}`}function Y(){window.scrollTo({top:0,behavior:"smooth"})}async function N(e){return await H.get(e).then(t=>t).catch(t=>t.message)}const v=document.querySelector("#modal-backdrop"),P=document.body;let X=null;function Z(e,t,o){t&&o&&e&&(t.addEventListener("click",()=>{let s=parseInt(e.value,10);!isNaN(s)&&s>1&&(e.value=s-1)}),o.addEventListener("click",()=>{let s=parseInt(e.value,10);const n=parseInt(e.dataset.max,10);!isNaN(s)&&!isNaN(n)&&s<n&&(e.value=s+1)}))}function ee(){v.addEventListener("click",e=>{(e.target===v||e.target.closest(".modal-close"))&&I()}),document.addEventListener("keydown",e=>{e.key==="Escape"&&I()})}async function te(e){try{const t=await fetch(`https://books-backend.p.goit.global/books/${e}`);if(!t.ok)throw new Error("Не вдалося отримати дані про книгу");const o=await t.json(),s={bookImage:document.querySelector("#book-image"),bookTitle:document.querySelector("#book-title"),bookAuthor:document.querySelector("#book-author"),bookPrice:document.querySelector("#book-price"),quantityInput:document.querySelector("#book-quantity"),bookDetails:document.querySelector("#book-details"),bookShipping:document.querySelector("#book-shipping"),bookReturns:document.querySelector("#book-returns")};s.bookImage&&(s.bookImage.src=o.book_image);const n={bookTitle:o.title,bookAuthor:o.author,bookPrice:`$${o.price}`,bookDetails:o.description,bookShipping:"We ship across the United States within 2–5 business days. All orders are processed through USPS or a reliable courier service. Enjoy free standard shipping on orders over $50.",bookReturns:"You can return an item within 14 days of receiving your order, provided it hasn’t been used and is in its original condition. To start a return, please contact our support team — we’ll guide you through the process quickly and hassle-free."};for(const[a,l]of Object.entries(n))s[a]&&(s[a].textContent=l);const r=o.quantity||100;s.quantityInput&&(s.quantityInput.dataset.max=r,s.quantityInput.value=1),v.classList.remove("is-hidden"),P.classList.add("locked");const c=document.querySelector(".accordion-container");c&&c.querySelectorAll(".ac").forEach(l=>{const O=l.querySelector(".ac-trigger"),h=l.querySelector(".ac-panel");O.addEventListener("click",()=>{l.classList.contains("is-active")?(h.style.height="0px",l.classList.remove("is-active")):(l.classList.add("is-active"),h.style.height=h.scrollHeight+"px")}),h.style.height="0px"})}catch(t){console.error("Помилка при відкритті модального вікна:",t)}}function I(){v.classList.add("is-hidden"),P.classList.remove("modal-open")}document.addEventListener("DOMContentLoaded",()=>{ee();const e=document.querySelector("#book-form");e&&e.addEventListener("submit",r=>{r.preventDefault(),alert("Дякуємо за покупку")});const t=document.querySelector("#add-to-cart");t&&t.addEventListener("click",()=>{const r=document.querySelector("#book-quantity").value;console.log(`Кількість обраних книг: ${r}`)});const o=document.querySelector("#book-quantity"),s=document.querySelector("#decrease-quantity"),n=document.querySelector("#increase-quantity");Z(o,s,n)});const y={add(e,t){localStorage.setItem(e,JSON.stringify(t))},get(e){return JSON.parse(localStorage.getItem(e))||[]},addToCard(e,t,o,s=1,n){const r=this.get(e),c=r.findIndex(a=>a.id===t);if(c===-1)r.push({id:t,price:o,qty:s});else{const a=r[c];a.qty=Math.max(0,a.qty+(n==="+"?s:-s))}localStorage.setItem(e,JSON.stringify(r))},removeItemFromStorage(e,t){const s=this.get(e).filter(n=>n.id!==t);localStorage.setItem(e,JSON.stringify(s))},setTotalCard(e){const t=this.get(i.BOOK_CARD_LIST);let o=0;t.length&&(o=t.reduce((s,n)=>s+n.price*n.qty,0)),console.log(o),e.textContent=`${o.toFixed(2)} $`},count(e){return this.get(e).length},isInCardList(e,t){return this.get(e).find(o=>o.id===t)!==void 0},setCountTo(e,t){e.textContent=this.count(t)||0}},oe=document.querySelector(".backdrop");document.querySelector(".modal-card");const se=document.querySelector(".modal-close"),C=document.querySelector(".books-data-list"),p=document.querySelector(".b-categories-list"),L=document.querySelector(".categories-dropdown"),m=document.querySelector(".books-show-more"),M=document.querySelector(".not-found"),ne=document.querySelector(".not-found-title"),ie=document.querySelector(".b-categories-_text");async function B(e){i.currentCat=e;try{const t=i.currentCat===i.ALL_CATEGORIES?`${i.BASE_URL}${i.END_TOP_BOOKS}`:`${i.BASE_URL}${i.END_CATEGORIE_ID}${i.currentCat}`,o=await N(t);let s=[];o.data.length||(ne.textContent=`No books found in "${i.currentCat}"`,f(M,"hidden"),k(m,"hidden")),i.currentCat===i.ALL_CATEGORIES?s=o.data.map(r=>r.books).reduce((r,c)=>r.concat(c),[]):s=o.data,y.add(i.BOOK_LIST,s),i.viewedBooks=Math.min(y.count(i.BOOK_LIST),i.itemsPerView);let n=s.slice(0,i.viewedBooks);K(i.viewedBooks,s.length),_(C,n,D,!0),d(p,"is-open"),d(L,"is-open"),R()}catch(t){console.log(t.message)}}function R(){i.viewedBooks<y.count(i.BOOK_LIST)?f(m,"display-none"):k(m,"display-none")}function V(){i.itemsPerView=window.innerWidth>=1440?24:10,i.itemsPerView===10&&(f(p,"is-open"),f(L,"is-open"))}async function re(){try{const e=`${i.BASE_URL}${i.END_CATEGORIES}`,t=await N(e);_(p,t.data,Q,!0)}catch(e){console.log(e.message)}}function K(e,t){ie.textContent=`Showing ${e} of ${t}`}document.addEventListener("DOMContentLoaded",()=>{V(),re(),B(i.ALL_CATEGORIES)});window.addEventListener("resize",()=>{V()});C.addEventListener("click",e=>{const t=e.target.closest(".books-data-button");if(!t)return;const o=t.closest(".books-data-itm");o&&te(o.dataset.id)});L.addEventListener("click",()=>{d(p,"is-open"),d(L,"is-open")});p.addEventListener("click",e=>{p.querySelectorAll(".b-categories-itm").forEach(n=>{f(n,"is-active")});const o=e.target.closest("p");if(!o)return;const s=e.target.closest(".b-categories-itm");s&&k(s,"is-active"),k(M,"hidden"),B(o.textContent)});se.addEventListener("click",()=>{d(oe,"is-hidden"),d(i.body,"locked")});m.addEventListener("click",()=>{m.disabled=!0;const e=y.count(i.BOOK_LIST),t=i.viewedBooks,o=i.viewedBooks+i.itemsToAdd,s=y.get(i.BOOK_LIST);if(!s.length){B(i.currentCat),i.scrollToTop();return}const n=s.slice(t,o);i.viewedBooks=Math.min(o,e),K(i.viewedBooks,s.length),_(C,n,D,!1),R(),m.disabled=!1});new E(".feedbacks-swiper",{modules:[q,$],loop:!1,grabCursor:!0,spaceBetween:20,slidesPerView:1,navigation:{prevEl:".feedbacks-swiper-button-left",nextEl:".feedbacks-swiper-button-right"},pagination:{el:".feedbacks-custom-swiper-pagination",clickable:!0},breakpoints:{768:{slidesPerView:2,spaceBetween:24},1440:{slidesPerView:3,spaceBetween:24}},on:{init:function(){x(this)},slideChange:function(){x(this)}}});function x(e){const t=document.querySelector(".feedbacks-swiper-button-left"),o=document.querySelector(".feedbacks-swiper-button-right");e.isBeginning?t.classList.add("feedbacks-button-disabled"):t.classList.remove("feedbacks-button-disabled"),e.isEnd?o.classList.add("feedbacks-button-disabled"):o.classList.remove("feedbacks-button-disabled")}const b=document.querySelector(".burger-menu"),G=document.querySelector(".modal-menu"),ce=b.querySelector("use");b.addEventListener("click",e=>{b.disabled=!0,U()});G.addEventListener("click",e=>{e.target.closest(".nav-link")&&U()});function U(){d(b,"is-open"),d(G,"is-open"),d(i.body,"locked"),ce.setAttribute("href",b.classList.contains("is-open")?i.scr_btn_burger_close:i.scr_btn_burger_normal),b.disabled=!1}const w=document.querySelector("#back-to-top");window.addEventListener("scroll",()=>{window.scrollY>600?f(w,"hidden"):k(w,"hidden")});w.addEventListener("click",()=>{Y()});const u=document.querySelector(".form"),ae=u.querySelectorAll(".form-input, .form-user-comment"),de=document.querySelector(".modal-close-btn"),j=document.querySelector(".modal-overlay"),le=document.querySelector(".events-list");le.addEventListener("click",e=>{const t=e.target.closest(".events-item");if(!t||!e.target.closest(".card-btn"))return;const s=t.querySelector(".events-card-heading").textContent.trim();ue(s)});u.addEventListener("submit",me);j.addEventListener("click",fe);de.addEventListener("click",be);function ue(e){const t=document.querySelector(".modal-overlay");t.classList.add("is-open");const o=t.querySelector(".form-subtitle");o.textContent=e,document.body.classList.add("locked"),window.addEventListener("keydown",F)}function S(){document.querySelector(".modal-overlay").classList.remove("is-open"),document.body.classList.remove("locked"),window.removeEventListener("keydown",F)}function me(e){e.preventDefault();let t=!0;if(ae.forEach(o=>{const s=o.nextElementSibling,n=o.value.trim();!o.checkValidity()||n===""?(o.classList.add("error"),s&&s.classList.contains("error-text")&&(s.style.display="block"),t=!1):(o.classList.remove("error"),s&&s.classList.contains("error-text")&&(s.style.display="none"))}),t){console.log("Форма валідна. Можна відправити.");const o={fullname:u.elements.fullname.value.trim(),email:u.elements.email.value.trim(),comment:u.elements.comment.value.trim()};console.log("Дані для відправки:",o),setTimeout(()=>{J.success({title:"Успішно!",message:"Форма відправлена.",position:"topRight",class:"custom-toast"}),u.reset(),S()},500)}}function be(){S()}function fe(e){e.target===j&&S()}function F(e){e.key==="Escape"&&S()}let g=null;function pe(){g=new E(".events-swiper",{modules:[q,$],loop:!1,grabCursor:!0,spaceBetween:24,slidesPerView:1,navigation:{prevEl:".swiper-button-left",nextEl:".swiper-button-right"},pagination:{el:".custom-swiper-pagination",clickable:!0},breakpoints:{768:{slidesPerView:2,spaceBetween:24}},on:{init:function(){A(this)},slideChange:function(){A(this)}}})}function ge(){g&&(g.destroy(!0,!0),g=null)}function z(){const e=window.innerWidth,t=document.querySelector(".events-control-cont"),o=document.querySelector(".swiper-pagination");e>=1440?(ge(),t==null||t.classList.add("hidden"),o==null||o.classList.add("hidden")):(g||pe(),t==null||t.classList.remove("hidden"),o==null||o.classList.remove("hidden"))}z();window.addEventListener("resize",z);function A(e){const t=document.querySelector(".swiper-button-left"),o=document.querySelector(".swiper-button-right");e.isBeginning?t.classList.add("button-disabled"):t.classList.remove("button-disabled"),e.isEnd?o.classList.add("button-disabled"):o.classList.remove("button-disabled")}
//# sourceMappingURL=index.js.map
