import{S as k,N as h,a as R,A as U,P as B,i as V}from"./assets/vendor-00AYbfjz.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))s(n);new MutationObserver(n=>{for(const i of n)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&s(a)}).observe(document,{childList:!0,subtree:!0});function o(n){const i={};return n.integrity&&(i.integrity=n.integrity),n.referrerPolicy&&(i.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?i.credentials="include":n.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function s(n){if(n.ep)return;n.ep=!0;const i=o(n);fetch(n.href,i)}})();new k(".swiper",{loop:!1,speed:600,grabCursor:!0,slidesPerView:1,modules:[h],navigation:{nextEl:".swiper-btn-next",prevEl:".swiper-btn-prev"},breakpoints:{768:{speed:700},1440:{speed:800}},on:{init:function(){E(this)},slideChange:function(){E(this)}}});function E(t){const e=document.querySelector(".swiper-btn-prev"),o=document.querySelector(".swiper-btn-next");t.isBeginning?e.classList.add("button-disabled"):e.classList.remove("button-disabled"),t.isEnd?o.classList.add("button-disabled"):o.classList.remove("button-disabled")}const K=document.querySelectorAll(".hero-btn");K.forEach(t=>{t.addEventListener("click",()=>{const e=document.querySelector(".books");e&&e.scrollIntoView({behavior:"smooth",block:"start"})})});const r={BASE_URL:"https://books-backend.p.goit.global",END_CATEGORIES:"/books/category-list",END_TOP_BOOKS:"/books/top-books",END_CATEGORIE_ID:"/books/category?category=",END_BOOK_ID:"/books/",BOOK_LIST:"bookList",currentCategory:"",body:document.body,scr_btn_burger_close:"ico-sprite.svg#icon-x",scr_btn_burger_normal:"ico-sprite.svg#icon-menu-alt-right"};function $(t,e){t.classList.remove(e)}function v(t,e){t.classList.add(e)}function c(t,e){t.classList.toggle(e)}function L(t,e,o,s=!1){s&&(t.innerHTML=""),t.insertAdjacentHTML("beforeend",o(e))}function x(t){return t.map(({_id:o,list_name:s,author:n,price:i,title:a,book_image:I,book_image_width:le,book_image_height:de})=>`<li class="books-data-itm" data-id="${o}">
          <div class="books-data-img-container">
            <img
              src="${I}"
              alt="${a}"
              class="books-data-img"
            />
          </div>
          <div class="books-data-info">
						<div class="books-data-texts">
							<h3 class="books-data-title">${a}</h3>
							<p class="books-data-author">${n}</p>
						</div>
						<h3 class="books-data-price">$${i}</h3>
					</div>
          <button class="books-data-button">Learn More</button>
        </li>`).join("")}function j(t){return`<li class="b-categories-itm" data-category="all">
						<p class="b-categories-itm-text">All categories</p>
					</li> ${t.filter(o=>o.list_name.trim()!=="").map(({list_name:o})=>`<li class="b-categories-itm" data-category="${o}">
          	<p class="b-categories-itm-text">${o}</p>
        	</li>`).join("")}`}async function w(t){return await R.get(t).then(e=>e).catch(e=>e.message)}const m=document.querySelector("#modal-backdrop"),O=document.body;let f=null;async function G(t){try{const e=await fetch(`https://books-backend.p.goit.global/books/${t}`);if(!e.ok)throw new Error("Не вдалося отримати дані про книгу");const o=await e.json();document.querySelector("#book-image").src=o.book_image,document.querySelector("#book-title").textContent=o.title,document.querySelector("#book-author").textContent=o.author,document.querySelector("#book-price").textContent=`$${o.price}`,document.querySelector("#book-details").textContent=o.description,document.querySelector("#book-shipping").textContent="We ship across the United States within 2–5 business days. All orders are processed through USPS or a reliable courier service. Enjoy free standard shipping on orders over $50.",document.querySelector("#book-returns").textContent="You can return an item within 14 days of receiving your order, provided it hasn’t been used and is in its original condition. To start a return, please contact our support team — we’ll guide you through the process quickly and hassle-free.",m.classList.remove("is-hidden"),O.classList.add("modal-open");const s=document.querySelector(".accordion-container");f&&f.destroy(),s&&(f=new U(s,{duration:300,showMultiple:!1,openOnInit:[]}));const n=document.querySelector("#book-quantity");n&&(n.value=1)}catch(e){console.error("Помилка при відкритті модального вікна:",e)}}function q(){m.classList.add("is-hidden"),O.classList.remove("modal-open")}document.addEventListener("DOMContentLoaded",()=>{m.addEventListener("click",o=>{(o.target===m||o.target.closest(".modal-close"))&&q()}),document.addEventListener("keydown",o=>{o.key==="Escape"&&q()});const t=document.querySelector("#book-form");t&&t.addEventListener("submit",o=>{o.preventDefault(),alert("Дякуємо за покупку")});const e=document.querySelector("#add-to-cart");e&&e.addEventListener("click",()=>{const o=document.querySelector("#book-quantity").value;console.log(`Кількість обраних книг: ${o}`)})});const z=document.querySelector(".backdrop");document.querySelector(".modal-card");const F=document.querySelector(".modal-close"),S=document.querySelector(".books-data-list"),b=document.querySelector(".b-categories-list"),g=document.querySelector(".categories-dropdown"),Q=document.querySelector(".books-show-more"),D=document.querySelector(".not-found"),W=document.querySelector(".not-found-title"),H=document.querySelector(".b-categories-_text"),Y=async t=>{r.currentCat=t;try{const e=r.currentCat==="All categories"?`${r.BASE_URL}${r.END_TOP_BOOKS}`:`${r.BASE_URL}${r.END_CATEGORIE_ID}${r.currentCat}`,o=await w(e);if(console.log("cat:",r.currentCat,o),o.data.length||(W.textContent=`No books found in "${r.currentCat}"`,$(D,"hidden"),v(Q,"hidden")),r.currentCat==="All categories"){const s=o.data.map(n=>n.books).reduce((n,i)=>n.concat(i),[]);console.log(s)}H.textContent=`Showing ${o.data.length} of ${o.data.length}`,L(S,o.data,x,!0),c(b,"is-open"),c(g,"is-open")}catch(e){console.log(e.message)}},J=async()=>{try{const t=`${r.BASE_URL}${r.END_TOP_BOOKS}`,e=await w(t);console.log(e),L(S,e.data[4].books,x,!0)}catch(t){console.log(t.message)}};document.addEventListener("DOMContentLoaded",()=>{X(),J()});S.addEventListener("click",t=>{const e=t.target.closest(".books-data-button");if(!e)return;const o=e.closest(".books-data-itm");o&&G(o.dataset.id)});const X=async()=>{try{const t=`${r.BASE_URL}${r.END_CATEGORIES}`,e=await w(t);L(b,e.data,j,!0)}catch(t){console.log(t.message)}};g.addEventListener("click",t=>{c(b,"is-open"),c(g,"is-open")});b.addEventListener("click",t=>{const e=t.target.closest("p");e&&(v(D,"hidden"),Y(e.textContent),console.log(t.target,t.target.closest("p").textContent))});F.addEventListener("click",t=>{c(z,"is-hidden"),c(r.body,"locked")});new k(".feedbacks-swiper",{modules:[h,B],loop:!1,grabCursor:!0,spaceBetween:20,slidesPerView:1,navigation:{prevEl:".swiper-button-left",nextEl:".swiper-button-right"},pagination:{el:".custom-swiper-pagination",clickable:!0},breakpoints:{768:{slidesPerView:2,spaceBetween:24},1440:{slidesPerView:3,spaceBetween:24}},on:{init:function(){_(this)},slideChange:function(){_(this)}}});function _(t){const e=document.querySelector(".swiper-button-left"),o=document.querySelector(".swiper-button-right");t.isBeginning?e.classList.add("button-disabled"):e.classList.remove("button-disabled"),t.isEnd?o.classList.add("button-disabled"):o.classList.remove("button-disabled")}const d=document.querySelector(".burger-menu"),A=document.querySelector(".modal-menu"),Z=d.querySelector("use");d.addEventListener("click",t=>{d.disabled=!0,T()});A.addEventListener("click",t=>{t.target.closest(".nav-link")&&T()});function T(){c(d,"is-open"),c(A,"is-open"),c(r.body,"locked"),Z.setAttribute("href",d.classList.contains("is-open")?r.scr_btn_burger_close:r.scr_btn_burger_normal),d.disabled=!1}const y=document.querySelector("#back-to-top");window.addEventListener("scroll",()=>{window.scrollY>600?$(y,"hidden"):v(y,"hidden")});y.addEventListener("click",()=>{window.scrollTo({top:0,behavior:"smooth"})});const l=document.querySelector(".form"),ee=l.querySelectorAll(".form-input, .form-user-comment"),te=document.querySelector(".modal-close-btn"),N=document.querySelector(".modal-overlay"),oe=document.querySelector(".events-list");oe.addEventListener("click",t=>{const e=t.target.closest(".events-item");if(!e||!t.target.closest(".card-btn"))return;const s=e.querySelector(".events-card-heading").textContent.trim();ne(s)});l.addEventListener("submit",se);N.addEventListener("click",ie);te.addEventListener("click",re);function ne(t){const e=document.querySelector(".modal-overlay");e.classList.add("is-open");const o=e.querySelector(".form-subtitle");o.textContent=t,document.body.classList.add("locked"),window.addEventListener("keydown",P)}function p(){document.querySelector(".modal-overlay").classList.remove("is-open"),document.body.classList.remove("locked"),window.removeEventListener("keydown",P)}function se(t){t.preventDefault();let e=!0;if(ee.forEach(o=>{const s=o.nextElementSibling;o.checkValidity()?(o.classList.remove("error"),s&&s.classList.contains("error-text")&&(s.style.display="none")):(o.classList.add("error"),s&&s.classList.contains("error-text")&&(s.style.display="block"),e=!1)}),e){console.log("Форма валідна. Можна відправити.");const o={fullname:l.elements.fullname.value.trim(),email:l.elements.email.value.trim(),comment:l.elements.comment.value.trim()};console.log("Дані для відправки:",o),setTimeout(()=>{V.success({title:"Успішно!",message:"Форма відправлена.",position:"topRight",class:"custom-toast"}),l.reset(),p()},500)}}function re(){p()}function ie(t){t.target===N&&p()}function P(t){t.key==="Escape"&&p()}let u=null;function ce(){u=new k(".events-swiper",{modules:[h,B],loop:!1,grabCursor:!0,spaceBetween:24,slidesPerView:1,navigation:{prevEl:".swiper-button-left",nextEl:".swiper-button-right"},pagination:{el:".custom-swiper-pagination",clickable:!0},breakpoints:{768:{slidesPerView:2,spaceBetween:24}},on:{init:function(){C(this)},slideChange:function(){C(this)}}})}function ae(){u&&(u.destroy(!0,!0),u=null)}function M(){const t=window.innerWidth,e=document.querySelector(".events-control-cont"),o=document.querySelector(".swiper-pagination");t>=1440?(ae(),e==null||e.classList.add("hidden"),o==null||o.classList.add("hidden")):(u||ce(),e==null||e.classList.remove("hidden"),o==null||o.classList.remove("hidden"))}M();window.addEventListener("resize",M);function C(t){const e=document.querySelector(".swiper-button-left"),o=document.querySelector(".swiper-button-right");t.isBeginning?e.classList.add("button-disabled"):e.classList.remove("button-disabled"),t.isEnd?o.classList.add("button-disabled"):o.classList.remove("button-disabled")}
//# sourceMappingURL=index.js.map
